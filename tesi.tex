\documentclass[a4paper,12pt,twoside,openright]{report}
\usepackage[T1]{fontenc}				% codifica dei font
\usepackage[utf8]{inputenc}				% lettere accentate da tastiera
\usepackage[english, italian]{babel}	% lingue del documento
\usepackage{url}						% per scrivere gli indirizzi internet
\usepackage[italian]{varioref}			% riferimenti completi
\usepackage{indentfirst}				% rientro prima riga del capoverso
\usepackage{microtype}					% migliora riempimento righe
\usepackage{pdfpages}					% per includere frontespizio.pdf
\usepackage[justification=centering]{caption}

% Margini e interlinea
\usepackage[top=1in, bottom=1in, inner=1.2in, outer=1in]{geometry}
\usepackage{setspace} % comandi per interlinea
\onehalfspacing

% Colori
\usepackage{xcolor}

% Codice
\usepackage{listings}
\usepackage{inconsolata} 	% Font Consolas per il codice (monospace)

\lstdefinelanguage[x64]{Assembler} {
	morekeywords={
		% Istruzioni
		movq,movl,movw,movb,
		pushq,popq,
		addb,addl,addw,addq,
		leaq,
		call, retq, ret, iretq, iret,
		cmpb,cmpl,cmpw,cmpq,
		% Registri
		al,ah,ax,eax,rax,
		bl,bh,bx,ebx,rbx,
		cl,ch,cx,ecx,rcx,
		dl,dh,dx,edx,rdx,
		dil,di,edi,rdi,
		sil,si,esi,rsi,
		rbp,rsp,
		r8,r8d,r8w,r8b,r9,r9d,r9w,r9b,
		r10,r10d,r10w,r10b,r11,r11d,r11w,r11b,
		r12,r12d,r12w,r12b,r13,r13d,r13w,r13b,
		r14,r14d,r14w,r14b,r15,r15d,r15w,r15b
	},
	morecomment=[l]{\#},
	morecomment=[l]{//},
	sensitive=false,
	showspaces=false
}

% Impostazioni bibliografia
\usepackage[autostyle,italian=guillemets]{csquotes}
\usepackage[backend=biber]{biblatex}
\addbibresource{references.bib}
\setcounter{biburlnumpenalty}{9000}
\setcounter{biburlucpenalty}{9000}
\setcounter{biburllcpenalty}{9000}

% Segnalibri e collegamenti
\usepackage[bookmarks]{hyperref}
\usepackage{bookmark}

\begin{document}

% Il frontespizio viene importato da un file pdf con una singola pagina
% generato con un file .tex separato
\phantomsection
\begin{titlepage}
	\thispagestyle{empty}
	\includepdf{sezioni-tesi/frontespizio/frontespizio-frn.pdf}
	\thispagestyle{empty}	% non numerare questa pagina
	\cleardoublepage
\end{titlepage}

\tableofcontents

\include{sezioni-tesi/meltdown}

\include{sezioni-tesi/nucleo}

\include{sezioni-tesi/implementazione}

\include{sezioni-tesi/codice}

\cleardoublepage
\addcontentsline{toc}{chapter}{Listings}
\lstlistoflistings

\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{\bibname}
\printbibliography

\end{document}
